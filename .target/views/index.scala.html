@(alarms: List[Alarm], alarmForm: Form[Alarm]) 
@* alarms and alarmForm are the 2 inputs to this template, where 
alarms is of the type List[Alarm] and alarmForm of the type Form[Alarm]*@

@* template can not be started with a comment *@

@import helper._
@import play.api.libs.json._ 

@main("Alarm list") {

@* todo: move this         // $("#patientName").text(@{alarms(index).Patient.name}); *@  
    <script id="showInfoScript" language="javascript" type="text/javascript">
   function showInfoFromAlarm(index) {
	   myJsRoutes.controllers.Application.getAlarm(index).ajax({
         success : function(data) { $("#details").html(data); }
       });
    };

    </script>
    

    <header>
    	<h1> EMHT </h1>
    </header>

 <div class="collumnsContainer">    
    <div> <section class="alarmListSection">
	    <h2>@alarms.size() alarm(s)</h2>
	    
		<div class="list-group">
		@for((alarm,index) <- alarms.zipWithIndex){
		  <a href="#" onclick="showInfoFromAlarm(@{index});return false;" class="list-group-item active">
		    <h4 class="list-group-item-heading">@{alarm.id} of type @{alarm.`type`} </h4>
		    <p class="list-group-item-text">Callee @{alarm.callee.phoneNumber} ;Patient @{alarm.patient.personalNumber} </p>
		  </a>
		 }  
		</div>
		
	</section></div> 
    
    
    <div> <section class="detailsSection">
    	<h2>Info</h2>
    	<div id="details"> </div>
	     <span id="patientName">Patient Name</span>
    </section></div> 
    
    <div> <section class="actionSection">
 		<h2>Add a new alarm</h2>
	    
	    @form(routes.Application.newAlarm()) {
	        
	        @inputText(alarmForm("type")) 
	        @inputText(alarmForm("address")) 
	        @inputText(field = alarmForm("callee.phoneNumber"), '_label -> "Callee PhoneNumber") 
	        @inputText(field = alarmForm("callee.name"), '_label -> "Callee Name") 
	        @inputText(field = alarmForm("patient.name"), '_label -> "Patient Name")
	        @inputText(field = alarmForm("patient.personalNumber"), '_label -> "Patient Personal Number")
	        
	        <input type="submit" value="Create">
	        
	    }
    </section></div> 
    
  </div>


    
}